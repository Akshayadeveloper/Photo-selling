<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stunning Photos by Akshaya Voryx CEO</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        'primary': '#051834',
                        'secondary': '#A4C3D5',
                        'accent': '#F0E6D8',
                    }
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7f3f0;
        }
        .scroll-to-section {
            scroll-behavior: smooth;
        }
        .modal {
            transition: transform 0.3s ease-in-out;
            transform: translateY(100%);
        }
        .modal.open {
            transform: translateY(0);
        }
        .modal-background {
            background-color: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(5px);
        }
        .photo-card {
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .photo-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            border-left-color: #051834;
            animation: spin 1s ease infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <!-- Header -->
    <header class="sticky top-0 z-50 bg-white shadow-sm">
        <nav class="container mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
            <a href="#" class="text-xl sm:text-2xl font-bold text-primary">Akshaya's Digital Photos</a>
            <div class="flex items-center space-x-4">
                <a href="#gallery" class="hidden sm:inline-block text-gray-600 hover:text-primary transition-colors duration-200">Gallery</a>
                <a href="#contact" class="hidden sm:inline-block text-gray-600 hover:text-primary transition-colors duration-200">Contact</a>
                <button id="cart-button" class="relative p-2 rounded-full hover:bg-gray-100 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-opacity-50">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.182 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" />
                    </svg>
                    <span id="cart-count" class="absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-red-100 transform translate-x-1/2 -translate-y-1/2 bg-red-600 rounded-full">0</span>
                </button>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <main>
        <!-- Hero Section -->
        <section class="relative bg-primary text-white py-20 md:py-32 overflow-hidden">
            <div class="absolute inset-0 bg-cover bg-center opacity-30" style="background-image: url('https://images.unsplash.com/photo-1542662569-f81d89859f9e?q=80&w=1770&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D');"></div>
            <div class="relative container mx-auto px-4 sm:px-6 lg:px-8 text-center">
                <h1 class="text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-extrabold leading-tight tracking-tight mb-4">
                    Capture the Moment, Own the Art
                </h1>
                <p class="text-lg md:text-xl lg:text-2xl mb-8 opacity-90">
                    Explore a curated collection of stunning digital photos.
                </p>
                <a href="#gallery" class="bg-white text-primary font-bold py-3 px-8 rounded-full shadow-lg hover:bg-gray-200 transition-colors duration-200 inline-block">
                    Explore Gallery
                </a>
            </div>
        </section>

        <!-- Photo Gallery Section -->
        <section id="gallery" class="py-12 md:py-20 bg-accent">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-2xl sm:text-3xl font-bold text-center mb-12 text-primary">Our Collection</h2>
                <div id="photo-gallery" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
                    <!-- Photo cards will be injected here by JavaScript -->
                </div>
            </div>
        </section>

        <!-- Cart Modal -->
        <div id="cart-modal" class="fixed inset-0 z-[100] hidden items-end justify-end modal-background">
            <div class="bg-white w-full h-full md:w-1/3 p-6 flex flex-col rounded-t-lg shadow-lg modal overflow-y-auto">
                <div class="flex justify-between items-center pb-4 border-b border-gray-200">
                    <h3 class="text-xl font-semibold text-primary">Your Cart</h3>
                    <button id="close-cart" class="p-2 rounded-full hover:bg-gray-100 transition-colors duration-200">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                </div>

                <div id="cart-items" class="flex-grow my-4 space-y-4">
                    <!-- Cart items will be added here -->
                    <p id="empty-cart-message" class="text-center text-gray-500">Your cart is empty.</p>
                </div>

                <div id="discount-message" class="bg-yellow-100 text-yellow-800 p-3 rounded-lg text-sm text-center font-medium my-4 hidden">
                    <!-- Discount message will be added here -->
                </div>

                <div class="border-t border-gray-200 pt-4">
                    <div class="flex justify-between font-semibold text-lg text-primary">
                        <span>Total:</span>
                        <span id="cart-total">$0.00</span>
                    </div>
                    <div class="mt-4">
                        <label for="payment-method" class="block text-sm font-medium text-gray-700">Payment Method:</label>
                        <select id="payment-method" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                            <option value="PayPal">PayPal</option>
                            <option value="Google Pay">Google Pay</option>
                        </select>
                    </div>
                    <div class="mt-4">
                        <label for="payment-option" class="block text-sm font-medium text-gray-700">Payment Option:</label>
                        <select id="payment-option" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                            <option value="Full">Pay Full</option>
                            <option value="Half">Pay Half</option>
                        </select>
                    </div>
                    <button id="proceed-to-order" class="mt-6 w-full bg-primary text-white font-bold py-3 px-4 rounded-lg hover:bg-opacity-90 transition-all duration-200">
                        Proceed to Order
                    </button>
                    <p class="text-center text-xs mt-2 text-gray-500">You will be redirected to a secure payment form to finalize your order.</p>
                </div>
            </div>
        </div>

        <!-- Order Form Modal -->
        <div id="order-form-modal" class="fixed inset-0 z-[101] hidden items-center justify-center modal-background p-4">
            <div class="bg-white w-full max-w-lg p-6 flex flex-col rounded-lg shadow-lg modal overflow-y-auto transform scale-95 md:scale-100">
                <!-- Payment instructions and then form -->
                <div id="payment-instructions" class="">
                    <div class="flex justify-between items-center pb-4 border-b border-gray-200 mb-4">
                        <h3 class="text-xl font-semibold text-primary">Make Your Payment</h3>
                        <button id="close-order-form" class="p-2 rounded-full hover:bg-gray-100 transition-colors duration-200">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                            </svg>
                        </button>
                    </div>
                    
                    <div class="mb-4 p-4 bg-gray-100 rounded-lg">
                        <h4 class="font-semibold text-lg text-primary mb-2">Order Summary</h4>
                        <div id="payment-summary" class="text-sm space-y-1 text-gray-700">
                            <!-- Payment summary injected here -->
                        </div>
                    </div>
                    
                    <div class="text-center my-6">
                        <h4 class="font-semibold text-xl text-gray-800">Complete your payment manually:</h4>
                        <p class="mt-2 text-gray-600">Please use the payment details below to send the exact amount.</p>
                        
                        <!-- Placeholder for payment details -->
                        <div id="payment-details-placeholder" class="mt-4 p-4 rounded-lg bg-white border border-gray-200 shadow-inner">
                            <img src="https://placehold.co/200x200/e2e8f0/4a5568?text=QR+Code" alt="Payment QR Code" class="mx-auto my-4 rounded-lg shadow-md">
                            <p class="font-bold text-lg">Google Pay ID: your.gpay@upi</p>
                            <p class="text-sm text-gray-500">
                                Scan the QR code or enter the ID above to pay.
                            </p>
                        </div>
                        
                        <p class="mt-4 text-sm text-red-500 font-medium">
                            <strong class="text-red-700">Important:</strong> Make sure to save a screenshot of your payment confirmation.
                        </p>
                    </div>

                    <button id="continue-to-form-btn" class="mt-6 w-full bg-primary text-white font-bold py-3 px-4 rounded-lg hover:bg-opacity-90 transition-all duration-200">
                        Continue to Finalize Order
                    </button>
                </div>
                
                <!-- Order Form - Hidden initially -->
                <div id="order-form-container" class="hidden">
                    <div class="flex justify-between items-center pb-4 border-b border-gray-200 mb-4">
                        <h3 class="text-xl font-semibold text-primary">Finalize Your Order</h3>
                        <button id="back-to-payment-btn" class="p-2 rounded-full hover:bg-gray-100 transition-colors duration-200">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-500 transform rotate-180" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3" />
                            </svg>
                        </button>
                    </div>
                    <form id="order-form" action="https://formspree.io/f/xeooydzk" method="POST" enctype="multipart/form-data">
                        <div class="mb-4">
                            <label for="name" class="block text-sm font-medium text-gray-700">Full Name</label>
                            <input type="text" id="name" name="name" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                        </div>
                        <div class="mb-4">
                            <label for="email" class="block text-sm font-medium text-gray-700">Email Address</label>
                            <input type="email" id="email" name="email" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                        </div>
                        <div class="mb-4">
                            <label for="phone" class="block text-sm font-medium text-gray-700">Phone Number (Optional)</label>
                            <input type="tel" id="phone" name="phone" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                        </div>
                        <div class="mb-4">
                            <label for="payment_screenshot" class="block text-sm font-medium text-gray-700">Upload Payment Screenshot</label>
                            <input type="file" id="payment_screenshot" name="payment_screenshot" accept="image/*" required class="mt-1 block w-full text-gray-700">
                        </div>
                        
                        <!-- Hidden fields to pass order data -->
                        <input type="hidden" name="photos_ordered" id="photos_ordered_input">
                        <input type="hidden" name="amount_to_pay" id="amount_to_pay_input">
                        <input type="hidden" name="payment_method" id="payment_method_input">
                        <input type="hidden" name="payment_option" id="payment_option_input">
                        
                        <div class="flex items-center justify-center mt-6">
                            <button type="submit" id="submit-order-btn" class="w-full bg-primary text-white font-bold py-3 px-4 rounded-lg hover:bg-opacity-90 transition-all duration-200 flex items-center justify-center">
                                <span id="submit-text">Confirm & Pay</span>
                            </button>
                        </div>
                    </form>
                </div>
                
                <!-- Order Confirmed Message -->
                <div id="confirmation-message" class="text-center p-6 hidden">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-24 w-24 mx-auto text-green-500 animate-bounce" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    <h1 class="mt-4 text-3xl font-bold text-primary">Order Confirmed!</h1>
                    <p class="mt-2 text-gray-600">
                        Thank you for your purchase. We have received your order details and payment screenshot.
                    </p>
                    <p class="mt-6 text-lg font-medium text-green-700">
                        Your high-definition digital photos will be delivered to your email within 24 hours.
                    </p>
                    <button id="close-confirmation" class="mt-8 inline-block bg-primary text-white font-bold py-3 px-8 rounded-full hover:bg-opacity-90 transition-all duration-200">
                        Close
                    </button>
                </div>
            </div>
        </div>

    </main>

    <!-- Footer -->
    <footer class="bg-gray-900 text-gray-300 py-8">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <p>&copy; 2025 Akshaya's Digital Photos. All Rights Reserved.</p>
        </div>
    </footer>

    <script>
        // Data for photos
        const photos = [
            { id: 'p1', name: 'Golden Hour', price: 12, type: 'standard', image: 'IMG-20250911-WA0000.jpg' },
            { id: 'p2', name: 'Mountain Peak', price: 12, type: 'standard', image: 'https://github.com/Akshayadeveloper/Photo-selling/blob/main/IMG-20250911-WA0001.jpg' },
            { id: 'p3', name: 'Forest Path', price: 12, type: 'standard', image: 'https://github.com/Akshayadeveloper/Photo-selling/blob/main/IMG-20250911-WA0002.jpg' },
            { id: 'p4', name: 'Ocean Waves', price: 12, type: 'standard', image: 'https://github.com/Akshayadeveloper/Photo-selling/blob/main/IMG-20250911-WA0003.jpg' },
            { id: 'p5', name: 'Cosmic Dust', price: 25, type: 'premium', image: 'https://github.com/Akshayadeveloper/Photo-selling/blob/main/IMG-20250911-WA0004.jpg' },
            { id: 'p6', name: 'Nebula', price: 25, type: 'premium', image: 'https://github.com/Akshayadeveloper/Photo-selling/blob/main/IMG-20250911-WA0005.jpg' },
            { id: 'p7', name: 'Urban Glow', price: 12, type: 'standard', image: 'https://github.com/Akshayadeveloper/Photo-selling/blob/main/IMG-20250911-WA0006.jpg' },
            { id: 'p8', name: 'Cherry Blossoms', price: 12, type: 'standard', image: 'https://github.com/Akshayadeveloper/Photo-selling/blob/main/IMG-20250911-WA0007.jpg' },
            { id: 'p9', name: 'Desert Stars', price: 25, type: 'premium', image: 'https://github.com/Akshayadeveloper/Photo-selling/blob/main/IMG-20250911-WA0008.jpg' },
            { id: 'p10', name: 'Abstract Lines', price: 12, type: 'standard', image: 'https://github.com/Akshayadeveloper/Photo-selling/blob/main/IMG-20250911-WA0009.jpg' },
            { id: 'p11', name: 'Rainy Street', price: 12, type: 'standard', image: 'https://github.com/Akshayadeveloper/Photo-selling/blob/main/IMG-20250911-WA0010.jpg' },
            { id: 'p12', name: 'City at Night', price: 25, type: 'premium', image: 'https://github.com/Akshayadeveloper/Photo-selling/blob/main/IMG-20250914-WA0000.jpg' },
            { id: 'p13', name: 'Aurora Borealis', price: 25, type: 'premium', image: 'https://images.unsplash.com/photo-1549419134-8c430e529a73?q=80&w=1770&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D' }
        ];

        // Global state for the cart
        let cart = [];

        // DOM Elements
        const photoGallery = document.getElementById('photo-gallery');
        const cartButton = document.getElementById('cart-button');
        const cartModal = document.getElementById('cart-modal');
        const closeCartButton = document.getElementById('close-cart');
        const cartCountSpan = document.getElementById('cart-count');
        const cartItemsDiv = document.getElementById('cart-items');
        const cartTotalSpan = document.getElementById('cart-total');
        const discountMessageDiv = document.getElementById('discount-message');
        const emptyCartMessage = document.getElementById('empty-cart-message');
        const proceedToOrderBtn = document.getElementById('proceed-to-order');
        
        // New DOM elements for the order form
        const orderFormModal = document.getElementById('order-form-modal');
        const closeOrderFormBtn = document.getElementById('close-order-form');
        const orderForm = document.getElementById('order-form');
        const paymentSummaryDiv = document.getElementById('payment-summary');
        const orderFormContainer = document.getElementById('order-form-container');
        const paymentInstructions = document.getElementById('payment-instructions');
        const continueToFormBtn = document.getElementById('continue-to-form-btn');
        const confirmationMessageDiv = document.getElementById('confirmation-message');
        const closeConfirmationBtn = document.getElementById('close-confirmation');
        const backToPaymentBtn = document.getElementById('back-to-payment-btn');


        // Function to render the photo gallery
        function renderGallery() {
            photoGallery.innerHTML = '';
            photos.forEach(photo => {
                const photoCard = document.createElement('div');
                photoCard.className = 'photo-card bg-white rounded-lg shadow-md overflow-hidden flex flex-col items-center p-4';
                photoCard.innerHTML = `
                    <div class="w-full h-48 sm:h-64 overflow-hidden rounded-lg mb-4">
                        <img src="${photo.image}" alt="${photo.name}" class="w-full h-full object-cover transition-transform duration-300 hover:scale-110">
                    </div>
                    <div class="w-full text-center">
                        <h3 class="text-lg font-semibold text-primary">${photo.name}</h3>
                        <p class="text-sm font-medium text-gray-500 mb-2">${photo.type === 'premium' ? '$25.00 (Premium)' : '$12.00'}</p>
                        <button class="add-to-cart-btn mt-2 bg-primary text-white font-bold py-2 px-4 rounded-full hover:bg-opacity-90 transition-all duration-200" data-id="${photo.id}">Add to Cart</button>
                    </div>
                `;
                photoGallery.appendChild(photoCard);
            });
            // Add event listeners after rendering
            document.querySelectorAll('.add-to-cart-btn').forEach(button => {
                button.addEventListener('click', addToCart);
            });
        }

        // Function to add a photo to the cart
        function addToCart(event) {
            const photoId = event.target.dataset.id;
            const photoToAdd = photos.find(p => p.id === photoId);
            if (photoToAdd) {
                cart.push(photoToAdd);
                updateCartUI();
            }
        }

        // Function to remove a photo from the cart
        function removeFromCart(event) {
            const photoId = event.target.dataset.id;
            const index = cart.findIndex(p => p.id === photoId);
            if (index > -1) {
                cart.splice(index, 1);
                updateCartUI();
            }
        }

        // Function to calculate total price and apply discounts
        function calculateTotal() {
            let subtotal = cart.reduce((sum, photo) => sum + photo.price, 0);
            let discount = 0;
            let discountMessage = '';

            if (cart.length >= 12) {
                discount = subtotal * 0.15;
                discountMessage = `Congratulations! You've received a 15% discount for ordering 12 or more photos.`;
            } else if (cart.length >= 5) {
                discount = subtotal * 0.10;
                discountMessage = `You've unlocked a 10% discount! Buy ${12 - cart.length} more photos for a 15% discount.`;
            }

            const total = subtotal - discount;

            return { total, subtotal, discount, discountMessage };
        }

        // Function to update the cart UI
        function updateCartUI() {
            cartCountSpan.textContent = cart.length;
            cartItemsDiv.innerHTML = '';

            if (cart.length === 0) {
                emptyCartMessage.classList.remove('hidden');
                proceedToOrderBtn.disabled = true;
                proceedToOrderBtn.classList.add('opacity-50', 'cursor-not-allowed');
                discountMessageDiv.classList.add('hidden');
            } else {
                emptyCartMessage.classList.add('hidden');
                proceedToOrderBtn.disabled = false;
                proceedToOrderBtn.classList.remove('opacity-50', 'cursor-not-allowed');
                
                cart.forEach(photo => {
                    const cartItem = document.createElement('div');
                    cartItem.className = 'flex items-center justify-between p-3 bg-gray-100 rounded-lg shadow-sm';
                    cartItem.innerHTML = `
                        <div class="flex items-center space-x-4">
                            <img src="${photo.image}" alt="${photo.name}" class="w-12 h-12 object-cover rounded-md">
                            <div>
                                <h4 class="font-semibold text-primary">${photo.name}</h4>
                                <p class="text-sm text-gray-600">$${photo.price.toFixed(2)}</p>
                            </div>
                        </div>
                        <button class="remove-from-cart-btn text-red-500 hover:text-red-700 transition-colors duration-200" data-id="${photo.id}">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.035 21H7.965a2 2 0 01-1.996-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                            </svg>
                        </button>
                    `;
                    cartItemsDiv.appendChild(cartItem);
                });
                document.querySelectorAll('.remove-from-cart-btn').forEach(button => {
                    button.addEventListener('click', removeFromCart);
                });
            }

            const { total, subtotal, discount, discountMessage } = calculateTotal();
            cartTotalSpan.textContent = `$${total.toFixed(2)}`;
            if (discount > 0) {
                discountMessageDiv.innerHTML = `Subtotal: $${subtotal.toFixed(2)} | Discount: $${discount.toFixed(2)}<br>${discountMessage}`;
                discountMessageDiv.classList.remove('hidden');
            } else {
                discountMessageDiv.classList.add('hidden');
            }
        }

        // Event listener to open/close cart modal
        cartButton.addEventListener('click', () => {
            cartModal.classList.remove('hidden', 'items-end');
            cartModal.classList.add('flex');
            setTimeout(() => {
                cartModal.firstElementChild.classList.add('open');
            }, 10);
        });

        closeCartButton.addEventListener('click', () => {
            cartModal.firstElementChild.classList.remove('open');
            setTimeout(() => {
                cartModal.classList.remove('flex');
                cartModal.classList.add('hidden', 'items-end');
            }, 300);
        });

        // Event listener for proceeding to order
        proceedToOrderBtn.addEventListener('click', () => {
            if (cart.length === 0) return;

            closeCartButton.click();

            orderFormModal.classList.remove('hidden');
            setTimeout(() => {
                orderFormModal.firstElementChild.classList.add('open');
            }, 10);
            
            // Populate the payment summary and form fields
            const { total } = calculateTotal();
            const photoIds = cart.map(p => p.name + ' (' + p.id + ')').join(', ');
            const paymentMethod = document.getElementById('payment-method').value;
            const paymentOption = document.getElementById('payment-option').value;
            const amountToPay = (paymentOption === 'Half') ? (total / 2).toFixed(2) : total.toFixed(2);
            const totalAmount = total.toFixed(2);

            paymentSummaryDiv.innerHTML = `
                <p><strong class="text-gray-900">Photos Ordered:</strong> ${photoIds}</p>
                <p><strong class="text-gray-900">Final Total:</strong> $${totalAmount}</p>
                <p><strong class="text-gray-900">Payment Method:</strong> ${paymentMethod}</p>
                <p><strong class="text-gray-900">Payment Option:</strong> ${paymentOption}</p>
                <p><strong class="text-gray-900">Amount to Pay Now:</strong> <span class="font-bold text-lg text-green-600">$${amountToPay}</span></p>
                <p class="text-xs mt-2 text-red-500">
                    ${paymentOption === 'Half' ? 'A random cute photo will be delivered with your order. You will pay the remaining half after delivery.' : 'You will pay the full amount now and receive a random cute photo along with your order.'}
                </p>
            `;

            // Set hidden form fields
            document.getElementById('photos_ordered_input').value = photoIds;
            document.getElementById('amount_to_pay_input').value = amountToPay;
            document.getElementById('payment_method_input').value = paymentMethod;
            document.getElementById('payment_option_input').value = paymentOption;

            // Show payment instructions first
            paymentInstructions.classList.remove('hidden');
            orderFormContainer.classList.add('hidden');
            confirmationMessageDiv.classList.add('hidden');
        });

        closeOrderFormBtn.addEventListener('click', () => {
            orderFormModal.firstElementChild.classList.remove('open');
            setTimeout(() => {
                orderFormModal.classList.add('hidden');
            }, 300);
        });

        continueToFormBtn.addEventListener('click', () => {
            paymentInstructions.classList.add('hidden');
            orderFormContainer.classList.remove('hidden');
        });

        backToPaymentBtn.addEventListener('click', (e) => {
            e.preventDefault();
            orderFormContainer.classList.add('hidden');
            paymentInstructions.classList.remove('hidden');
        });

        // This is a simulated submission. It will not send data but will show the confirmation message.
        orderForm.addEventListener('submit', (e) => {
            e.preventDefault();
            
            // This code block runs when the form is submitted.
            // We hide the form and show the confirmation message immediately.
            orderFormContainer.classList.add('hidden');
            confirmationMessageDiv.classList.remove('hidden');
            
            // Clear the cart for a new order
            cart = [];
            updateCartUI();
        });
        
        closeConfirmationBtn.addEventListener('click', () => {
            orderFormModal.classList.add('hidden');
            // Reset form for next time
            orderForm.reset();
            orderFormContainer.classList.add('hidden');
            paymentInstructions.classList.remove('hidden');
        });

        // Initial render
        window.onload = () => {
            renderGallery();
            updateCartUI();
        };
    </script>
</body>
</html>
